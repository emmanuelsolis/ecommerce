function MF_SVGIcon(){var thisClass=this;thisClass.NAME="MF_SVGIcon";thisClass.LABEL="SVG";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=false;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=32;thisClass.height=32;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.shadowType="none";thisClass.maintainSize=true;thisClass.opacity=1;thisClass.SVGUrl="default/paper-plane.svg";thisClass.SVGCache=new Object();thisClass.svgLoaded=false;thisClass.noColor=false;thisClass.colorEnabled=false;thisClass.rgb="0, 0, 0";thisClass.flip=false;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.setSvgLoaded=function(val){thisClass.svgLoaded=val;if(mf_main.RENDER){mf_main.editorController.checkLoaded();}};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropSingle("opacity",thisClass.opacity,"default");thisClass.e2xml.addPropSingle("maintainSize",thisClass.maintainSize,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("SVGUrl",thisClass.SVGUrl,"default");thisClass.e2xml.addPropSingle("colorEnabled",thisClass.colorEnabled,"default");thisClass.e2xml.addPropSingle("rgb",thisClass.rgb,"default");thisClass.e2xml.addPropSingle("flip",thisClass.flip,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.colorEnabled!=null){thisClass.colorEnabled=thisClass.e2xml.settings.properties.colorEnabled;}if(thisClass.e2xml.settings.properties.rgb!=null){thisClass.rgb=thisClass.e2xml.settings.properties.rgb;}if(thisClass.e2xml.settings.properties.flip!=null){thisClass.flip=thisClass.e2xml.settings.properties.flip;}if(thisClass.e2xml.settings.properties.opacity!=null){thisClass.opacity=thisClass.e2xml.settings.properties.opacity;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.maintainSize!=null){thisClass.maintainSize=thisClass.e2xml.settings.properties.maintainSize;}if(thisClass.e2xml.settings.properties.SVGUrl!=null){thisClass.SVGUrl=thisClass.e2xml.settings.properties.SVGUrl;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;thisClass.noColor=false;if(thisClass.SVGUrl!=null){try{var sarr=thisClass.SVGUrl.split("/");if(sarr[0].includes("-nocolor")){thisClass.noColor=true;}}catch(e){}}var svgCode="";if(redraw){$("#"+thisClass.eid).remove();var SVGPath="";if(mf_main.EXPORTHTML){SVGPath="https://assets.mockflow.com/app/wireframepro/svg/"+thisClass.SVGUrl;}else{SVGPath="https://assets.mockflow.com/app/wireframepro/svg/"+thisClass.SVGUrl;}svgCode="<div class='mfWFCompCls'  id=\""+thisClass.eid+'" style="pointer-events: none; -webkit-transform: translateZ(0);   position:absolute; text-align: center;width:'+cwidth.toString()+"px; height:"+cheight.toString()+"px; top:"+ctop.toString()+"px; left:"+cleft.toString()+'px; " > ';if(thisClass.noColor){svgCode=svgCode+'<img  id="mfsvgimg_'+thisClass.eid+'" style="   position:absolute; top: 0px; left:0px; text-align: center;width:100%; height:100%; " ';svgCode=svgCode+"/>";}svgCode=svgCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(svgCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(svgCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{thisClass.applySvgIconSettings();return;}if(thisClass.noColor){if(redraw){$("#mfsvgimg_"+thisClass.eid).on("load",function(){thisClass.setSvgLoaded(true);});$("#mfsvgimg_"+thisClass.eid).on("error",function(){thisClass.setSvgLoaded(true);});$("#mfsvgimg_"+thisClass.eid).attr("src",SVGPath);}thisClass.applySvgIconSettings();}else{if(redraw&&thisClass.SVGCache[thisClass.SVGUrl]){var svgData=thisClass.SVGCache[thisClass.SVGUrl];$("#"+thisClass.eid).html(svgData);thisClass.setSvgLoaded(true);thisClass.applySvgIconSettings();}else{if(redraw&&!thisClass.SVGCache[thisClass.SVGUrl]){try{$.ajax(SVGPath,{type:"GET",dataType:"text",success:function(data){var mfSvgData=MF_Utils.sanitizeSvgData(data);thisClass.SVGCache=new Object();thisClass.SVGCache[thisClass.SVGUrl]=mfSvgData;$("#"+thisClass.eid).html(mfSvgData);thisClass.setSvgLoaded(true);thisClass.applySvgIconSettings();},error:function(){thisClass.setSvgLoaded(true);return;}});}catch(e){}}}if(!redraw){thisClass.applySvgIconSettings();}}};this.applySvgIconSettings=function(){if(thisClass.noColor){var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;$("#"+thisClass.eid).css("height",thisClass.esize.height);$("#"+thisClass.eid).css("width",thisClass.esize.width);$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("height",thisClass.esize.height);$("#"+thisClass.eid).css("width",thisClass.esize.width);$("#"+thisClass.eid).css("opacity",thisClass.opacity);if(thisClass.flip){$("#mfsvgimg_"+thisClass.eid+"").css("transform","scaleX(-1)");}else{$("#mfsvgimg_"+thisClass.eid+"").css("transform","scaleX(1)");}MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid,thisClass.shadowType);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}}else{if($("#"+thisClass.eid).length>0){var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;$("#"+thisClass.eid).css("height",thisClass.esize.height);$("#"+thisClass.eid).css("width",thisClass.esize.width);$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("height",thisClass.esize.height);$("#"+thisClass.eid).css("width",thisClass.esize.width);$("#"+thisClass.eid+" svg").attr("height","100%");$("#"+thisClass.eid+" svg").attr("width","100%");if(thisClass.maintainSize){if($("#"+thisClass.eid+" svg")[0]){$("#"+thisClass.eid+" svg")[0].removeAttribute("preserveAspectRatio");}}else{if($("#"+thisClass.eid+" svg")[0]){$("#"+thisClass.eid+" svg")[0].setAttribute("preserveAspectRatio","none");}}if(thisClass.colorEnabled){if(thisClass.SVGUrl&&thisClass.SVGUrl.includes("heroicons-outline/")){$("#"+thisClass.eid+" svg").attr("stroke","rgb("+thisClass.rgb+")");}else{if(thisClass.SVGUrl&&thisClass.SVGUrl.includes("heroicons-solid/")){$("#"+thisClass.eid+" svg").attr("fill","rgb("+thisClass.rgb+")");}else{$("#"+thisClass.eid+" svg").attr("fill","rgb("+thisClass.rgb+")");$("#"+thisClass.eid+" svg circle[fill != none]").attr("fill","rgb("+thisClass.rgb+")");$("#"+thisClass.eid+" svg ellipse[fill != none]").attr("fill","rgb("+thisClass.rgb+")");$("#"+thisClass.eid+" svg line[fill != none]").attr("fill","rgb("+thisClass.rgb+")");$("#"+thisClass.eid+" svg path[fill != none]").attr("fill","rgb("+thisClass.rgb+")");$("#"+thisClass.eid+" svg polygon[fill != none]").attr("fill","rgb("+thisClass.rgb+")");$("#"+thisClass.eid+" svg polyline[fill != none]").attr("fill","rgb("+thisClass.rgb+")");$("#"+thisClass.eid+" svg rect[fill != none]").attr("fill","rgb("+thisClass.rgb+")");}}}if(thisClass.flip){$("#"+thisClass.eid+" svg").css("transform","scaleX(-1)");if(mf_main.RENDER){$("#"+thisClass.eid+" svg").css("-webkit-transform","scaleX(-1)");}}else{$("#"+thisClass.eid+" svg").css("transform","scaleX(1)");if(mf_main.RENDER){$("#"+thisClass.eid+" svg").css("-webkit-transform","scaleX(1)");}}$("#"+thisClass.eid).css("opacity",thisClass.opacity);MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid,thisClass.shadowType);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}}}};}function MF_SVGIconSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_SVGIcon.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfFillOpacity_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfFillOpacity_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfFillOpacity_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:opacityOnChange,decimal:0});$("#mfFillOpacity_"+thisClass.eid).focus(function(){$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",opacityOnChange);$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").bind("change",opacityOnChange);});$("#aspectToggleBtn_"+thisClass.eid).click(toggleSelectionAspect);$("#flipToggleBtn_"+thisClass.eid).click(toggleSelectionFlip);$("#mfToggleSVG_"+thisClass.eid).on("click",function(e){if(typeof mf_main.componentList.svgIconListHandler==="function"){mf_main.componentList.addIconMode=false;mf_main.componentList.svgIconListHandler(e);}else{MF_Utils.display_ActionIndicator("Update your app to the latest, to explore this feature");}});$("#mfSvgColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){var rgbStr=color.toRgbString();var digits=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(rgbStr);var red=parseInt(digits[2]);var green=parseInt(digits[3]);var blue=parseInt(digits[4]);var undoarr=new Array();var undo2=new MF_UndoDAO();undo2.propSingleUndo(thisClass.component,"rgb",thisClass.component.rgb);undoarr.push(undo2);undo2=new MF_UndoDAO();undo2.propSingleUndo(thisClass.component,"colorEnabled",thisClass.component.colorEnabled);undoarr.push(undo2);thisClass.component.e2xml.addPropSingle("rgb",red+","+green+","+blue,"default");thisClass.component.e2xml.addPropSingle("colorEnabled",true,"default");var undoObj=new MF_UndoDAO();var meta=new MF_MetaUndo(undoarr);undoObj.metaUndo(meta);MF_ChangeManager.addUndo(undoObj);thisClass.component.render(false);}});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}if(thisClass.component.noColor){$("#mfSvgColorDiv_"+thisClass.eid).hide();$("#mfSvgColorDivLbl_"+thisClass.eid).hide();$("#mfMaintainSize_"+thisClass.eid).hide();$("#mfMaintainSizeLbl_"+thisClass.eid).hide();}else{$("#mfSvgColorDiv_"+thisClass.eid).show();$("#mfSvgColorDivLbl_"+thisClass.eid).show();$("#mfMaintainSize_"+thisClass.eid).show();$("#mfMaintainSizeLbl_"+thisClass.eid).show();}function opacityOnChange(){$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",opacityOnChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}thisClass.component.e2xml.addPropSingle("opacity",this.value());thisClass.component.render(false);}var imgOpacity=$("#mfFillOpacity_"+thisClass.eid).data("kendoNumericTextBox");imgOpacity.value(thisClass.component.opacity);$("#aspectToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.maintainSize);function toggleSelectionAspect(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("maintainSize",true);}else{thisClass.component.e2xml.addPropSingle("maintainSize",false);}thisClass.component.render(false);}$("#flipToggleBtn_"+thisClass.eid).prop("checked",thisClass.component.flip);function toggleSelectionFlip(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("flip",true);}else{thisClass.component.e2xml.addPropSingle("flip",false);}thisClass.component.render(false);}var rgbArr=thisClass.component.rgb.split(",");if(thisClass.component.colorEnabled){var rgbArr=thisClass.component.rgb.split(",");if(rgbArr&&rgbArr.length==3){$("#mfSvgColor_"+thisClass.eid).spectrum("set","#"+MF_Utils.toHex(rgbArr[0])+MF_Utils.toHex(rgbArr[1])+MF_Utils.toHex(rgbArr[2]));}}else{$("#mfSvgColor_"+thisClass.eid).spectrum("set","#000000");}};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 950px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							 
						</div>
						
						<div id="{{eid}}_svgsettings"  style="overflow: hidden; width:100%; " >
							
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
										<div style="float: left; width: 185px; padding-left: 5px;">Icon</div>
										
										<div style="float: left; width: 50px; text-align: right;">
											<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
											<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
										</div>
								</div>
											
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 225px;" >		
					
										
										
										<div style="position: absolute; left: 10px; top: 10px;">Flip:</div>

										<div class="checkbox" style="position: absolute; top: 25px; left: 30px;">
									    	<input  type="checkbox" checked=true id="flipToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='flipToggleBtn_{{eid}}'></label>
									  	</div>
									  	
										<div id='mfMaintainSizeLbl_{{eid}}'   style="position: absolute; left: 140px; top: 10px;">Maintain Size Ratio:</div>

										
										 <div  id='mfMaintainSize_{{eid}}'  class="checkbox" style="position: absolute; top: 25px; left: 160px;">
									    	<input  type="checkbox" checked=true id="aspectToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='aspectToggleBtn_{{eid}}'></label>
									  	</div>
									  	
										<div id='mfSvgColorDivLbl_{{eid}}'  style="position: absolute; left: 140px; top: 80px;">Color:</div>
									  	
									
									   	<div  id='mfSvgColorDiv_{{eid}}' style='position: absolute; left: 140px; top: 105px;' ><input  id='mfSvgColor_{{eid}}' style='width: 100px;' type='text'  /></div>

									  	
										<div style="position: absolute; left: 10px; top: 80px;">Opacity:</div>
											<div style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 10px; top: 105px;">
											<input id="mfFillOpacity_{{eid}}" style="width: 70px;" type="number" value="1" min="0" max="1" step="0.1"/>
											
										</div>
									
										<a style="position: absolute; left: 10px; top: 170px; width: 220px;" class="btn mfSidebarBlueButton" id="mfToggleSVG_{{eid}}" >Change Icon</a>

								</div>
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}