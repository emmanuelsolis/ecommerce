function MF_TextArea(){var thisClass=this;thisClass.NAME="MF_TextArea";thisClass.LABEL="TextArea";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=90;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#ffffff","#ffffff"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.textPadding=5;thisClass.showResize=true;thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderRadius=0;thisClass.lineHeight=1;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="left";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("ANNOTATION",thisClass.ANNOTATION,"default");thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("textPadding",thisClass.textPadding,"default");thisClass.e2xml.addPropSingle("lineHeight",thisClass.lineHeight,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");thisClass.e2xml.addPropSingle("showResize",thisClass.showResize,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.ANNOTATION!=null){thisClass.ANNOTATION=thisClass.e2xml.settings.properties.ANNOTATION;}if(thisClass.e2xml.settings.properties.lineHeight!=null){thisClass.lineHeight=thisClass.e2xml.settings.properties.lineHeight;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textPadding!=null){thisClass.textPadding=thisClass.e2xml.settings.properties.textPadding;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.showResize!=null){thisClass.showResize=thisClass.e2xml.settings.properties.showResize;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw,mfpage){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+'<div id="'+thisClass.eid+"\" class='mfWFCompCls' width=\""+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  overflow: hidden; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt"  style="padding: 5px; line-height: normal;   word-wrap: break-word; overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px;   top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";if(mfpage){$("#mfPage"+mfpage.eid).append(rectCode);}else{$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);}try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=thisClass.text;htext=MF_ComponentUtils.getRefactoredText(htext);htext=htext.replace(/\n/g,"<br/>");$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("padding",thisClass.textPadding);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("line-height",thisClass.lineHeight);$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();if(thisClass.borderRadius==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius);}ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}if(thisClass.showResize){var sval=MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);var dist=thisClass.delta/4-sval;ctx_obj.lineWidth=1;ctx_obj.setLineDash([]);ctx_obj.beginPath();ctx_obj.moveTo(thisClass.width-(dist)-10,thisClass.height-dist-1);ctx_obj.lineTo(thisClass.width-dist-1,thisClass.height-(dist)-10);ctx_obj.moveTo(thisClass.width-(dist)-6,thisClass.height-dist-1);ctx_obj.lineTo(thisClass.width-dist-1,thisClass.height-(dist)-6);ctx_obj.moveTo(thisClass.width-(dist)-2,thisClass.height-dist-1);ctx_obj.lineTo(thisClass.width-dist-1,thisClass.height-(dist)-2);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_TextAreaSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.lineHeightBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();}}catch(e){console.log("error occured in the component MF_TextArea.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings3();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfSelectToggle_"+thisClass.eid).click(toggleSelection);$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onWidthChange,decimals:0});$("#mfPadding_"+thisClass.eid).focus(function(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onWidthChange);});$("#mfLineHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfLineHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfLineHeight_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:onLineHeightChange});$("#mfLineHeight_"+thisClass.eid).focus(function(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onLineHeightChange);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfSelectToggle_"+thisClass.eid).prop("checked",thisClass.component.showResize);function toggleSelection(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("showResize",true);}else{thisClass.component.e2xml.addPropSingle("showResize",false);}thisClass.component.render(false);}function onWidthChange(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("textPadding",w);thisClass.component.render(false);}thisClass.textPaddingBox=$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox");thisClass.textPaddingBox.value(thisClass.component.textPadding);function onLineHeightChange(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("lineHeight",w);thisClass.component.render(false);}thisClass.lineHeightBox=$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox");thisClass.lineHeightBox.value(parseFloat(thisClass.component.lineHeight));};thisClass.render=function(redraw,mfpage){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1600px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 160px;" >		
					
								
									 <div class="checkbox" style="position: absolute; top: 10px; left: 30px;">
									    <input  type="checkbox" checked=true id="mfSelectToggle_{{eid}}" class="tgl tgl-ios" value="">
									    <label class='tgl-btn' for='mfSelectToggle_{{eid}}'></label><span>Show Resize</span>
									  </div>
									  
									  <div style="position: absolute; left: 10px; top: 65px;">Text Padding:</div>
									<div style="position: absolute; left: 100px; top: 60px;"><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>

									
									 <div style="position: absolute; left: 10px; top: 105px;">Line Height:</div>
									<div style="position: absolute; left: 100px; top: 100px;"><input style="width: 70px;" id="mfLineHeight_{{eid}}" type="number" value="0" min="0" max="1000" step="0.1" /></div>

								
								
								</div>
						</div>
						
					
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}